<div class="w-80 dt-table">
  <div class="dt-row">
    <div class="dtc pr2">
      <h3>Search:</h3>
    </div>
    <div class="dtc">
      <div class="dt-row ph3 w-100">
        <div class="dtc w-100">
          <p-autoComplete
            [(ngModel)]="storyLineSearch"
            [suggestions]="filteredStoryLineSingle" 
            (completeMethod)="filterStoryLineSingle($event)" 
            field="storyLineName" [size]="30"
            placeholder="Storyline" [minLength]="2">
          </p-autoComplete>
          <!-- (ngModelChange)="selectedStoryLineChanged($event)"  -->
        </div>
      </div>          
    </div>
  </div>
</div>
<div class="fl w-80">
  <div id="myGrid" class="ag-theme-alpine">
    <ag-grid-angular w-100
      style="height: 400px;"
      class="ag-theme-alpine ag-row-hover"
      [rowData]="searchResults"
      [columnDefs]="columnDefs"
      [pagination]="true"
      [paginationPageSize]="10"
      [paginationAutoPageSize]="true"
      (gridReady)="onGridReady($event)"
      [overlayLoadingTemplate]="overlayLoadingTemplate"
      [overlayNoRowsTemplate]="overlayNoRowsTemplate"
      >  
    </ag-grid-angular>
  </div>
</div>

      <!-- <div class="measure">
        <label for="name" class="f6 b db mb2">Name <span class="normal black-60">(optional)</span></label>
        <input id="name" class="input-reset ba b--black-20 pa2 mb2 db w-100" type="text" aria-describedby="name-desc">
        <small id="name-desc" class="f6 black-60 db mb2">Helper text for the form control.</small>
      </div>
 -->

  <div class="ph3 fr w-20">
    <div class="dt-table">

      <div class="dt-row ph3 w-100">
        <label for="name" class="f6 b db mb2">Series</label>
      </div>
      <div class="dt-row ph3 w-100">
        <div class="dtc pb3">
          <select [(ngModel)]="selectedSeries" class="form-control form-control-sm" style="width: 100%;" class="ui-widget" (ngModelChange)="selectedSeriesChanged($event)" [disabled]="!(seriesList?.length>0)">
            <option value="undefined" >Select...</option>
            <option *ngFor="let series of seriesList" [ngValue]="series">{{series.getDisplayValue()}}</option>
          </select> 
        </div> 
        <!-- <div class="dtc pa1 b">
          <p>{{selectedSeries?.seriesName}}</p>
        </div>  -->
      </div>
      
    <div class="dt-row ph3 w-100">
      <label for="name" class="f6 b db mb2">Story Line</label>
    </div>
    <div class="dt-row ph3 w-100">
      <div class="dtc pb3">
        <select [(ngModel)]="selectedStoryLine" class="form-control form-control-sm" (ngModelChange)="selectedStoryLineChanged($event)" class="ui-widget" style="width: 100%;" [disabled]="!(storyLines?.length>0)">
          <option value="undefined" >[All]</option>
          <option *ngFor="let storyLine of storyLines" [ngValue]="storyLine" >{{storyLine.getDisplayValue()}}</option>
        </select> 
      </div> 
    </div>


    <!-- <div class="dt-row ph3 w-100">
      <div class="dtc w-100">
        <span style="margin-left:10px">Story Line: {{storyLineTemp ? storyLineTemp.storyLineName||storyLineTemp : 'none'}}</span>
      </div>
    </div> -->
  
    <div class="dt-row ph3 w-100">
      <label for="name" class="f6 b db mb2">Story Arc</label>
    </div>
    <div class="dt-row ph3 w-100">
      <div class="dtc pb3">
        <select [(ngModel)]="selectedStoryArc" class="form-control form-control-sm" (ngModelChange)="selectedStoryArcChanged($event)" class="ui-widget" style="width: 100%;" [disabled]="!(storyArcs?.length>0)">
        <option value="undefined" >[All]</option>
        <option *ngFor="let storyArc of storyArcs" [ngValue]="storyArc">{{storyArc.getDisplayValue()}}</option>
      </select> 
    </div> 
    <!-- <div class="dtc pa1 b">
      <p>{{selectedStoryArc?.storyArcName}}</p>
    </div>  -->
  </div>
    
    <div class="dt-row ph3 w-100">
      <label for="name" class="f6 b db mb2">Issue</label>
    </div>
    <div class="dt-row ph3 w-100">
      <div class="dtc pb3">
        <select [(ngModel)]="selectedIssue" class="form-control form-control-sm" class="ui-widget" style="width: 100%;" (ngModelChange)="selectedIssueChanged($event)" [disabled]="!(issues?.length>0)">
        <option value="undefined" >[All]</option>
        <option *ngFor="let issue of issues" [ngValue]="issue" >
          <!-- Multiplying float gets rid of trailing zeroes-->
          {{issue.issueNumber * 1}}
        </option>
      </select> 
    </div> 
    <!-- <div class="dtc pa1 b">
      <p>{{selectedIssue?.issueNumber}}</p>
    </div>  -->
  </div>
    

</div> 
